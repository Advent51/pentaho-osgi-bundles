<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test i18n</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <script src="/requirejs-manager/js/require-init.js"></script>

  <script type="text/javascript">
    require(["dojo/request", "dojo/dom", "dojo/on", "dojo/domReady!"], function( request, dom, on ){
      var region = dom.byId("region");
      var bundle = dom.byId("bundle");
      var key = dom.byId("key");
      var val = dom.byId("val");

      on(dom.byId("fetch"), "click", function(){
        var q = {
          "region" : region.value,
          "bundle" : bundle.value,
          "key" : key.value,
        }
        request("/cxf/i18n", {query: q} ).then(function(data){
          val.innerHTML = key.value + " : " + data;
        }, function(err){
          val.innerHTML = "Error: <br/>" +err;
        }, function(evt){

        });
      });
    })
  </script>
</head>
<body>
<div class="container">

<p class="lead" style="margin-top: 100px;">
  Here's a basic form for calling a custom internationalization service
</p>
<form onsubmit="return false;" class="form-inline">
  <div class="input-group">
    <div class="input-group-addon">Region</div>
    <input class="form-control" type="text" id="region" value="test-region"/>
  </div>
  <div class="input-group">
    <div class="input-group-addon">Bundle</div>
    <input class="form-control" type="text" id="bundle" value="i18n/messages"/>
  </div>

  <div class="input-group">
    <div class="input-group-addon">Key</div>
    <input class="form-control" type="text" id="key" value="exampleKey"/>
  </div>

  <button onclick="callTranslation()" type="submit" class="btn btn-primary" id="fetch">Fetch Translation</button>

  <h1 style="color:red;font-size:24px;text-align:center;width:100%" id="val"></h1>
</form>
</div>
</body>
</html>